# Production Environment Configuration

# Application
NODE_ENV=production
PORT=3000

# Database Configuration
DB_HOST=${PRODUCTION_DB_HOST}
DB_PORT=5432
DB_NAME=${PRODUCTION_DB_NAME}
DB_USER=${PRODUCTION_DB_USER}
DB_PASSWORD=${PRODUCTION_DB_PASSWORD}
DB_SSL=true
DB_CONNECTION_TIMEOUT=10000
DB_IDLE_TIMEOUT=30000
DB_MAX_POOL_SIZE=20

# Read Replica Configuration
DB_READ_HOST=${PRODUCTION_DB_READ_HOST}
DB_READ_PORT=5432
DB_READ_USER=${PRODUCTION_DB_READ_USER}
DB_READ_PASSWORD=${PRODUCTION_DB_READ_PASSWORD}

# Redis Configuration
REDIS_HOST=${PRODUCTION_REDIS_HOST}
REDIS_PORT=6379
REDIS_PASSWORD=${PRODUCTION_REDIS_PASSWORD}
REDIS_SSL=true
REDIS_CLUSTER_NODES=redis1.tutoring-platform.com:6379,redis2.tutoring-platform.com:6379,redis3.tutoring-platform.com:6379

# Authentication
JWT_SECRET=${PRODUCTION_JWT_SECRET}
JWT_EXPIRES_IN=1h
REFRESH_TOKEN_EXPIRES_IN=7d
JWT_ALGORITHM=RS256

# Session Configuration
SESSION_SECRET=${PRODUCTION_SESSION_SECRET}
SESSION_TIMEOUT=3600000
SESSION_STORE=redis

# Firebase Configuration
FIREBASE_PROJECT_ID=tutoring-platform-production
FIREBASE_PRIVATE_KEY=${FIREBASE_PRIVATE_KEY}
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-prod@your-project.iam.gserviceaccount.com
FIREBASE_DATABASE_URL=https://tutoring-platform-production.firebaseio.com

# Stripe Configuration (Live Keys)
STRIPE_PUBLIC_KEY=${STRIPE_PUBLIC_KEY}
STRIPE_SECRET_KEY=${STRIPE_SECRET_KEY}
STRIPE_WEBHOOK_SECRET=${STRIPE_WEBHOOK_SECRET}

# Email Configuration
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=587
SMTP_SECURE=true
SMTP_USER=${SMTP_USER}
SMTP_PASS=${SMTP_PASS}
SMTP_FROM=noreply@tutoring-platform.com
SMTP_REPLY_TO=support@tutoring-platform.com

# Storage Configuration
STORAGE_TYPE=aws_s3
AWS_ACCESS_KEY_ID=${AWS_ACCESS_KEY_ID}
AWS_SECRET_ACCESS_KEY=${AWS_SECRET_ACCESS_KEY}
AWS_REGION=us-east-1
S3_BUCKET=tutoring-platform-production-uploads
CLOUDFRONT_DOMAIN=d1234567890abcdef.cloudfront.net
CDN_URL=https://cdn.tutoring-platform.com

# File Upload Configuration
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=pdf,doc,docx,txt,jpg,jpeg,png,gif,mp4,mp3,wav
VIRUS_SCAN_ENABLED=true

# API Configuration
API_RATE_LIMIT=10000
API_RATE_WINDOW=900000
API_TIMEOUT=30000
API_MAX_REQUEST_SIZE=10485760

# Caching Configuration
CACHE_TTL=3600
CACHE_MAX_KEYS=10000
REDIS_CLUSTER_ENABLED=true

# Logging Configuration
LOG_LEVEL=info
LOG_FILE=./logs/app.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=10
ELASTICSEARCH_URL=https://elasticsearch.tutoring-platform.com:9200
KIBANA_URL=https://kibana.tutoring-platform.com:5601

# Security Configuration
CORS_ORIGIN=https://tutoring-platform.com,https://app.tutoring-platform.com,https://admin.tutoring-platform.com
CSRF_PROTECTION=true
HSTS_ENABLED=true
FORCE_HTTPS=true
SECURE_COOKIES=true

# Encryption
ENCRYPTION_KEY=${PRODUCTION_ENCRYPTION_KEY}
ENCRYPTION_ALGORITHM=aes-256-gcm

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW=15
RATE_LIMIT_MAX_REQUESTS=1000

# DDoS Protection
CLOUDFLARE_ENABLED=true
CLOUDFLARE_ZONE_ID=${CLOUDFLARE_ZONE_ID}
CLOUDFLARE_API_TOKEN=${CLOUDFLARE_API_TOKEN}

# WebRTC Configuration
TURN_SERVER_URL=turn:turn.tutoring-platform.com:3478
TURN_USERNAME=${TURN_USERNAME}
TURN_PASSWORD=${TURN_PASSWORD}
STUN_SERVER_URL=stun:stun.tutoring-platform.com:3478

# External Services
PLAGIARISM_API_URL=https://api.turnitin.com
VIDEO_SDK_API_KEY=${VIDEO_SDK_API_KEY}
SENDGRID_API_KEY=${SENDGRID_API_KEY}
TWILIO_ACCOUNT_SID=${TWILIO_ACCOUNT_SID}
TWILIO_AUTH_TOKEN=${TWILIO_AUTH_TOKEN}

# Monitoring & Observability
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_URL=https://prometheus.tutoring-platform.com:9090
GRAFANA_URL=https://grafana.tutoring-platform.com:3000
JAEGER_URL=https://jaeger.tutoring-platform.com:16686

# Alerting
SLACK_WEBHOOK_URL=${SLACK_WEBHOOK_URL}
PAGERDUTY_INTEGRATION_KEY=${PAGERDUTY_INTEGRATION_KEY}
EMAIL_ALERT_RECIPIENTS=${EMAIL_ALERT_RECIPIENTS}

# Feature Flags
FEATURE_ANALYTICS=true
FEATURE_VIDEO_RECORDING=true
FEATURE_GROUP_SESSIONS=true
FEATURE_AI_GRADING=true
FEATURE_PUSH_NOTIFICATIONS=true
FEATURE_BIOMETRIC_AUTH=true

# Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_TIMEOUT=10000
HEALTH_CHECK_RETRIES=3
HEALTH_CHECK_INTERVAL=30000

# Performance Configuration
COMPRESSION_ENABLED=true
GZIP_LEVEL=6
CHUNK_SIZE=16384
KEEP_ALIVE_TIMEOUT=60000

# Backup Configuration
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=90
BACKUP_S3_BUCKET=tutoring-platform-production-backups
BACKUP_ENCRYPTION_KEY=${BACKUP_ENCRYPTION_KEY}

# Load Balancer Configuration
LOAD_BALANCER_URL=https://api.tutoring-platform.com
HEALTH_CHECK_PATH=/health
STICKY_SESSIONS=true

# Auto-scaling Configuration
MIN_INSTANCES=3
MAX_INSTANCES=20
TARGET_CPU_UTILIZATION=70
TARGET_MEMORY_UTILIZATION=80
SCALE_UP_COOLDOWN=300
SCALE_DOWN_COOLDENCY=600

# SSL/TLS Configuration
SSL_CERT_PATH=/etc/ssl/certs/tutoring-platform.com.crt
SSL_KEY_PATH=/etc/ssl/private/tutoring-platform.com.key
SSL_INTERMEDIATE_PATH=/etc/ssl/certs/intermediate.crt

# Domain Configuration
PRIMARY_DOMAIN=tutoring-platform.com
WWW_DOMAIN=www.tutoring-platform.com
API_DOMAIN=api.tutoring-platform.com
CDN_DOMAIN=cdn.tutoring-platform.com

# CDN Configuration
CLOUDFLARE_ZONE_ID=${CLOUDFLARE_ZONE_ID}
CLOUDFLARE_API_TOKEN=${CLOUDFLARE_API_TOKEN}
CACHE_TTL_STATIC=31536000
CACHE_TTL_DYNAMIC=300

# Content Delivery
IMAGE_OPTIMIZATION=true
VIDEO_TRANSCODING=true
WEBP_SUPPORT=true

# Geographic Distribution
REGIONS=us-east-1,us-west-2,eu-west-1,ap-southeast-1
PRIMARY_REGION=us-east-1

# Environment Information
ENVIRONMENT_NAME=production
DEPLOYMENT_TIMESTAMP=${DEPLOYMENT_TIMESTAMP}
BUILD_NUMBER=${BUILD_NUMBER}
GIT_COMMIT=${GIT_COMMIT}
VERSION=${VERSION}